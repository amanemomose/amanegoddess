<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Lista de Personagens</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
    }

    .filters {
      text-align: center;
      margin-bottom: 20px;
    }

    .filters label, .sort-controls button {
      margin: 0 10px;
      font-weight: bold;
      cursor: pointer;
    }

    .sort-controls {
      text-align: center;
      margin-bottom: 20px;
    }

    .character-list {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .character-card {
      background: white;
      border-radius: 8px;
      padding: 10px;
      width: 200px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: center;
      position: relative;
      overflow: visible;
    }

    .character-card img {
      width: 100%;
      border-radius: 4px;
      transition: transform 0.3s ease;
    }

    .character-card:hover img {
      transform: scale(1.2);
      z-index: 2;
    }

    .hover-info {
      display: none;
      position: absolute;
      top: 10px;
      left: 210px;
      width: 200px;
      background: #ffffffdd;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 8px;
      z-index: 3;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
    }

    .character-card:hover .hover-info {
      display: block;
    }

    .tags {
      font-size: 0.9em;
      color: #444;
      margin-bottom: 10px;
    }

    .rank-input {
      width: 60px;
      padding: 4px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Lista de Personagens</h1>

  <div class="filters">
    <div class="filter-group">
      <h3>Aparência</h3>
      <label><input type="checkbox" value="Kemonomimi" /> Kemonomimi</label>
      <label><input type="checkbox" value="Shorts" /> Shorts</label>
      <label><input type="checkbox" value="Small boobs" /> Small boobs</label>
      <label><input type="checkbox" value="Big boobs" /> Big boobs</label>
      <label><input type="checkbox" value="Huge boobs" /> Huge boobs</label>
      <label><input type="checkbox" value="Blonde" /> Blonde</label>
      <label><input type="checkbox" value="Pink hair" /> Pink hair</label>
      <label><input type="checkbox" value="Brown hair" /> Brown hair</label>
      <label><input type="checkbox" value="Black hair" /> Black hair</label>
      <label><input type="checkbox" value="Red hair" /> Red hair</label>
      <label><input type="checkbox" value="Green hair" /> Green hair</label>
      <label><input type="checkbox" value="Blue hair" /> Blue hair</label>
      <label><input type="checkbox" value="White hair" /> White hair</label>
      <label><input type="checkbox" value="Orange hair" /> Orange hair</label>
      <label><input type="checkbox" value="Purple hair" /> Purple hair</label>
      <label><input type="checkbox" value="Short hair" /> Short hair</label>
      <label><input type="checkbox" value="Long hair" /> Long hair</label>
      <label><input type="checkbox" value="Witch hat" /> Witch hat</label>
      <label><input type="checkbox" value="Maid" /> Maid</label>
      <label><input type="checkbox" value="Kimono" /> Kimono</label>
      <label><input type="checkbox" value="Glasses" /> Glasses</label>
      <label><input type="checkbox" value="Overalls" /> Overalls</label>
      <label><input type="checkbox" value="Mommy" /> Mommy</label>
      <label><input type="checkbox" value="Loli" /> Loli</label>
      <label><input type="checkbox" value="Pointy ears" /> Pointy ears</label>
      <label><input type="checkbox" value="Tanned" /> Tanned</label>
      <label><input type="checkbox" value="Skirt" /> Skirt</label>
      <label><input type="checkbox" value="Femboy" /> Femboy</label>      
    </div>
    <div class="filter-group">
      <h3>Traço</h3>
      <label><input type="checkbox" value="Shy" /> Shy</label>
      <label><input type="checkbox" value="Kuudere" /> Kuudere</label>
      <label><input type="checkbox" value="Tsundere" /> Tsundere</label>
    </div>
    <div class="filter-group">
      <h3>Mídia</h3>
      <label><input type="checkbox" value="Anime" /> Anime</label>
      <label><input type="checkbox" value="Game" /> Game</label>
      <label><input type="checkbox" value="Gacha" /> Gacha</label>
      <label><input type="checkbox" value="Hoyo" /> Hoyoverse</label>
      <label><input type="checkbox" value="Vtuber" /> Vtuber</label>
    </div>
    <div class="filter-group">
      <h3>Série</h3>
      <label><input type="checkbox" value="ZZZ" /> ZZZ</label>
      <label><input type="checkbox" value="Bocchi the rock!" /> Bocchi the rock!</label>
      <label><input type="checkbox" value="Touhou" /> Touhou</label>
      <label><input type="checkbox" value="Danganronpa" /> Danganronpa</label>
      <label><input type="checkbox" value="Milgram" /> Milgram</label>
      <label><input type="checkbox" value="Code geass" /> Code geass</label>
      <label><input type="checkbox" value="Gotobun" /> Gotobun</label>
      <label><input type="checkbox" value="HxH" /> HxH</label>
      <label><input type="checkbox" value="Naruto" /> Naruto</label>
      <label><input type="checkbox" value="One Piece" /> One Piece</label>
      <label><input type="checkbox" value="Genshin Impact" /> Genshin Impact</label>
      <label><input type="checkbox" value="Chainsaw Man" /> Chainsaw Man</label>
      <label><input type="checkbox" value="Shingeki" /> Shingeki</label>
      <label><input type="checkbox" value="Kaguya-sama" /> Kaguya-sama</label>
      <label><input type="checkbox" value="Hololive" /> Hololive</label>
      <label><input type="checkbox" value="NIJISANJI" /> NIJISANJI</label>
    </fieldset>
  </div>

  <div class="sort-controls">
    <button onclick="sortByRank('asc')">↑ Ordenar por Ranking Crescente</button>
    <button onclick="sortByRank('desc')">↓ Ordenar por Ranking Decrescente</button>
  </div>

  <div class="character-list" id="characterList"></div>

  <script>
    const STORAGE_KEY = "characterRanks";

    let characters = [
      {
        name: "Ju Fufu",
        image: "fufu.png", // Caminho relativo
        tags: ["Kemonomimi", "ZZZ", "Game", "Gacha", "Shorts", "Long hair", "Orange hair", "Small boobs", "Game", "Hoyo"],
        rank: 0
      },
      {
        name: "C.C.",
        image: "cc.png",
        tags: ["Green hair", "Long hair", "Code geass", "Kuudere", "Anime", "Eater"],
        rank: 0
      },
      {
        name: "Bocchi",
        image: "bocchi.png",
        tags: ["Bocchi the rock!", "Pink hair", "Long hair", "Anime", "Shy", "Big boobs", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Komi",
        image: "komi.png",
        tags: ["Black hair", "Long hair", "Anime", "Shy", "Kuudere", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Junko Enoshima",
        image: "junko.png",
        tags: ["Pink hair", "Danganronpa", "Game", "Big boobs", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Itsuki Nakano",
        image: "itsuki.png",
        tags: ["Gotobun", "Red hair", "Long hair", "Anime", "Eater", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Yotsuba Nakano",
        image: "yotsuba.png",
        tags: ["Gotobun", "Red hair", "Short hair", "Anime", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Miku Nakano",
        image: "miku.png",
        tags: ["Gotobun", "Red hair", "Long hair", "Anime", "Kuudere", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Nino Nakano",
        image: "nino.png",
        tags: ["Gotobun", "Red hair", "Long hair", "Short hair", "Anime", "Tsundere", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Ichika Nakano",
        image: "ichika.png",
        tags: ["Gotobun", "Red hair", "Short hair", "Anime", "Skirt", "Highschooler"],
        rank: 0
      },
      {
        name: "Raiha Uesugi",
        image: "raiha.png",
        tags: ["Gotobun", "Black hair", "Long hair", "Anime", "Overalls", "Loli"],
        rank: 0
      },
      {
        name: "Neferpitou",
        image: "pitou.png",
        tags: ["HxH", "White hair", "Short hair", "Anime", "Kemonomimi"],
        rank: 0
      },
      {
        name: "Shizuku",
        image: "shizuku.png",
        tags: ["HxH", "Black hair", "Short hair", "Anime", "Kuudere", "Glasses"],
        rank: 0
      },
      {
        name: "Alluka",
        image: "5HkxsnL~jxi0gZG.png",
        tags: ["HxH", "Black hair", "Long hair", "Anime", "Skirt", "Femboy", "Child"],
        rank: 0
      },
      {
        name: "Machi",
        image: "machi.png",
        tags: ["HxH", "Pink hair", "Anime"],
        rank: 0
      },
      {
        name: "Biscuit",
        image: "biscuit.png",
        tags: ["HxH", "Blonde", "Anime", "Loli", "Adult", "Skirt"],
        rank: 0
      },
      {
        name: "Ponzu",
        image: "ponzu.png",
        tags: ["HxH", "Blue hair", "Long hair", "Anime"],
        rank: 0
      },
      {
        name: "Mito",
        image: "mito.png",
        tags: ["HxH", "Orange hair", "Short hair", "Anime", "Mommy", "Adult"],
        rank: 0
      },
      {
        name: "Baise",
        image: "baise.png",
        tags: ["HxH", "Purple hair", "Anime", "Adult"],
        rank: 0
      },
      {
        name: "Piyon",
        image: "piyon.png",
        tags: ["HxH", "Brown hair", "Short hair", "Anime", "Kemonomimi"],
        rank: 0
      },
      {
        name: "Hina",
        image: "hina.png",
        tags: ["HxH", "Blonde", "Long hair", "Anime"],
        rank: 0
      },
      {
        name: "Leroute",
        image: "leroute.png",
        tags: ["HxH", "Pink hair", "Anime", "Adult"],
        rank: 0
      },
      {
        name: "Menchi",
        image: "menchi.png",
        tags: ["HxH", "Blue hair", "Anime", "Big boobs", "Adult"],
        rank: 0
      },
      {
        name: "Kalluto",
        image: "kalluto.png",
        tags: ["HxH", "Black hair", "Short hair", "Anime", "Femboy", "Child", "Kimono"],
        rank: 0
      },
      {
        name: "Hinata",
        image: "hinata.png",
        tags: ["Naruto", "Purple hair", "Long hair", "Anime", "Shy"],
        rank: 0
      },
      {
        name: "Sakura",
        image: "sakura.png",
        tags: ["Naruto", "Pink hair", "Short hair", "Anime"],
        rank: 0
      },
      {
        name: "Temari",
        image: "temari.png",
        tags: ["Naruto", "Blonde", "Anime"],
        rank: 0
      },
      {
        name: "Kushina",
        image: "kushina.png",
        tags: ["Naruto", "Red hair", "Long hair", "Anime", "Mommy"],
        rank: 0
      },
      {
        name: "Tenten",
        image: "tenten.png",
        tags: ["Naruto", "Black hair", "Anime"],
        rank: 0
      },
      {
        name: "Hanabi",
        image: "hanabi.png",
        tags: ["Naruto", "Black hair", "Long hair", "Anime", "Small boobs", "Kimono"],
        rank: 0
      },
      {
        name: "Haku",
        image: "haku.png",
        tags: ["Naruto", "Black hair", "Long hair", "Anime", "Femboy"],
        rank: 0
      },
      {
        name: "Taiga",
        image: "taiga.png",
        tags: ["Anime", "Brown hair", "Long hair", "Tsundere", "Loli", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Pikamee",
        image: "pikamee.png",
        tags: ["Vtuber", "Blonde", "Short hair", "shorts"],
        rank: 0
      },
      {
        name: "Power",
        image: "power.png",
        tags: ["Chainsaw Man", "Blonde", "Long hair", "Anime"],
        rank: 0
      },
      {
        name: "Makima",
        image: "makima.png",
        tags: ["Chainsaw Man", "Red hair", "Long hair", "Anime", "Mommy"],
        rank: 0
      },
      {
        name: "Kobeni",
        image: "kobeni.png",
        tags: ["Anime", "Brown hair", "Shy"],
        rank: 0
      },
      {
        name: "Mikasa",
        image: "mikasa.png",
        tags: ["Shingeki", "Black hair", "Short hair", "Anime"],
        rank: 0
      },
      {
        name: "Annie",
        image: "annie.png",
        tags: ["Shingeki", "Blonde", "Kuudere", "Anime"],
        rank: 0
      },
      {
        name: "Historia",
        image: "historia.png",
        tags: ["Shingeki", "Anime", "Blonde", "Long hair"],
        rank: 0
      },
      {
        name: "Chika",
        image: "chika.png",
        tags: ["Anime", "Kaguya-sama", "White hair", "Long hair", "Big boobs", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Sister Claire",
        image: "claire.png",
        tags: ["Vtuber", "NIJISANJI", "Blonde", "Long hair"],
        rank: 0
      },
      {
        name: "Hisui Kitakoji",
        image: "kitakoji.png",
        tags: ["Vtuber", "NIJISANJI", "Green hair", "Short hair", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Chigusa Nishizono",
        image: "chigusa.png",
        tags: ["Vtuber", "NIJISANJI", "Blue hair", "Short hair", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Suo Sango",
        image: "sango.png",
        tags: ["Vtuber", "NIJISANJI", "Pink hair", "Long hair", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Sara Hoshikawa",
        image: "sara.png",
        tags: ["Vtuber", "NIJISANJI", "Blonde", "Shorts", "Big boobs"],
        rank: 0
      },
      {
        name: "Rena Yorumi",
        image: "rena.png",
        tags: ["Vtuber", "NIJISANJI", "Black hair", "White hair", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Kana Sukoya",
        image: "kana.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Big boobs"],
        rank: 0
      },
      {
        name: "Mikoto Rindou",
        image: "mikoto.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Kimono"],
        rank: 0
      },
      {
        name: "Salome Hyakumentenbara",
        image: "salome.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Long hair", "Hime", "Skirt"],
        rank: 0
      },
      {
        name: "Saku Sasaki",
        image: "saku.png",
        tags: ["Vtuber", "NIJISANJI", "Red hair", "Short hair", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Lain Paterson",
        image: "pikamee.png",
        tags: ["Vtuber", "NIJISANJI", "Red hair", "Long hair", "Shorts", "Big boobs"],
        rank: 0
      },
      {
        name: "Amamiya Kokoro",
        image: "kokoro.png",
        tags: ["Vtuber", "NIJISANJI", "Blue hair", "Long hair", "Skirt", "Small boobs"],
        rank: 0
      },
      {
        name: "Lize Helesta",
        image: "lize.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Long hair", "Skirt"],
        rank: 0
      },
      {
        name: "Fuyuki Hayase",
        image: "fuyuki.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Long hair", "Highschooler", "Skirt", "Big boobs"],
        rank: 0
      },
      {
        name: "Shiina Yuika",
        image: "yuika.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Long hair", "Highschooler", "Skirt", "Big boobs"],
        rank: 0
      },
      {
        name: "Honma Himawari",
        image: "honma.png",
        tags: ["Vtuber", "NIJISANJI", "Orange hair", "Short hair", "Highschooler", "Skirt", "Big boobs"],
        rank: 0
      },
      {
        name: "Tsukino Mito",
        image: "tsukino.png",
        tags: ["Vtuber", "NIJISANJI", "Black hair", "Long hair", "Highschooler", "Skirt"],
        rank: 0
      },
      {
        name: "Chima Machita",
        image: "chima.png",
        tags: ["Vtuber", "NIJISANJI", "Blonde", "Long hair", "Highschooler", "Skirt", "Big boobs"],
        rank: 0
      },
      {
        name: "Rion Takamiya",
        image: "rion.png",
        tags: ["Vtuber", "NIJISANJI", "Blonde", "Highschool", "Skirt"],
        rank: 0
      },
      {
        name: "Ririmu Makainu",
        image: "ririmu.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Skirt", "Loli"],
        rank: 0
      },
      {
        name: "Uiba Aiha",
        image: "aiha.png",
        tags: ["Vtuber", "NIJISANJI", "Black hair", "Long hair", "Skirt"],
        rank: 0
      },
      {
        name: "Mao Matsukai",
        image: "mao.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Tanned", "Shorts", "Small boobs", "Kemonomimi"],
        rank: 0
      },
      {
        name: "Akabane Youko",
        image: "youko.png",
        tags: ["Vtuber", "NIJISANJI", "Red hair", "Long hair", "Highschooler", "Skirt", "Big boobs"],
        rank: 0
      },
      {
        name: "Ruri Shioriha",
        image: "ruri.png",
        tags: ["Vtuber", "NIJISANJI", "White hair", "Long hair", "Kemonomimi", "Shorts"],
        rank: 0
      },
      {
        name: "Saki Ashizawa",
        image: "saki.png",
        tags: ["Vtuber", "Blonde", "Short hair", "Shorts"],
        rank: 0
      }
      
    ];

    // Carrega rankings salvos do localStorage
    const savedRanks = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
    characters.forEach(char => {
      if (savedRanks[char.name] !== undefined) {
        char.rank = savedRanks[char.name];
      }
    });

    const characterList = document.getElementById("characterList");
    const checkboxes = document.querySelectorAll(".filters input");

    function renderCharacters() {
      const selectedTags = Array.from(checkboxes)
        .filter(cb => cb.checked)
        .map(cb => cb.value);

      characterList.innerHTML = "";

      characters.forEach((char, index) => {
        if (selectedTags.length > 0 && !selectedTags.every(tag => char.tags.includes(tag))) {
          return;
        }

        const card = document.createElement("div");
        card.className = "character-card";

        card.innerHTML = `
          <img src="${char.image}" alt="${char.name}">
          <h3>${char.name}</h3>

          <div class="hover-info">
            <div class="tags"><strong>Tags:</strong> ${char.tags.join(", ")}</div>
            <div>
              <label>Ranking:
                <input type="number" class="rank-input" value="${char.rank}" data-index="${index}" />
              </label>
            </div>
          </div>
        `;

        characterList.appendChild(card);
      });

      document.querySelectorAll(".rank-input").forEach(input => {
        input.addEventListener("input", (e) => {
          const i = parseInt(e.target.getAttribute("data-index"));
          const val = parseFloat(e.target.value);

          if (isNaN(val)) return;
          if ([...characters].some((c, idx) => idx !== i && c.rank === val)) {
            alert("Este ranking já está sendo usado por outro personagem!");
            e.target.value = characters[i].rank;
            return;
          }

          characters[i].rank = val;
          savedRanks[characters[i].name] = val;
          localStorage.setItem(STORAGE_KEY, JSON.stringify(savedRanks));
          renderCharacters();
        });
      });
    }

    function sortByRank(order = 'asc') {
      characters.sort((a, b) => {
        if (order === 'asc') return a.rank - b.rank;
        else return b.rank - a.rank;
      });
      renderCharacters();
    }

    checkboxes.forEach(cb => cb.addEventListener("change", renderCharacters));
    renderCharacters();
  </script>
</body>
</html>
